<!DOCTYPE html>
<html>
<head>
    <link rel="shortcut icon" href="/static/icons/favicon.ico">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <script src="https://cdn.socket.io/4.2.0/socket.io.js"></script>

    <link rel="stylesheet" href="/static/css/stylesheet.css">

    <title>Dashboard</title>
</head>
<body>
    <div class="header"></div>
    <div class="topnav">
        <a href="/dashboard">Dashboard</a>
        <a href="/historic">Historic</a>
        <a href="/alarms">Alarms</a>
    </div>
    <div class="row">
        <div class="leftcolumn">
            <div class="card">
                <h1>Dashboard
                    <select class="select" id="select" onChange="location = this.value">
                        {% for r in robots %}
                        <option value="/dashboard/{{r}}" {% if r == robot.deviceId %}selected{% endif %}>{{r}}</option>
                        {% endfor %}
                    </select>
                    <data id="id" value={{ robot.deviceId }} hidden></data>
                </h1>
            </div>
            <div class="card">
                <h2>Status</h2>
                <img id="status" class="center" src="/static/icons/{{robot.state}}.png">
            </div>

        </div>
        <div class="rightcolumn">
            <div class="card">
                <h2>State</h2>
                    <p id="state">{{robot.state}}</p>
            </div>
            <div class="card">
                <h2>Last message</h2>
                <time id="time">{{robot.time|timestamp2date}}</time>
            </div>
            <div class="card">
                <h2>Alarms</h2>
            </div>
        </div>
    </div>
</body>
<script src="/static/js/dashboard.js" type="text/javascript"></script>
</html>