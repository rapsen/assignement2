
<!DOCTYPE html>
<html>
<head>
    <link rel="shortcut icon" href="https://s3.amazonaws.com/django-blog/ico/favicon_v2.ico">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-core.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-pie.min.js"></script>

    <link rel="stylesheet" href="../static/css/stylesheet.css">
    
    <title>Dashboard for robot: {{nID}}</title>
</head>
<body>
    <div class="header"></div>
    <div class="topnav">
        <a href="/dashboard/{{id}}">Dashboard</a>
        <a href="/historic">Historic</a>
        <a href="/alarms">Alarms</a>
    </div>
    <div class="row">
        <div class="leftcolumn">
            <div class="card">
                <h2>Dashboard{{nID}}</h2>
            </div>
            <div class="card">
                <div class={{class_state}}>
                    <h2>Robot Status</h2>
                    <img id="status" class="center" src="../static/icons/{{status}}.png"></img>
                </div>
            </div>
            
        </div>
        <div class="rightcolumn">
            <div class="card">
                <h2>Current State</h2>
                <div id="currentState" style="height:100px;">{{state}}</div>
            </div>

            <div class="card">
                <h3>Last time connected</h3>
                <div id="lastTimeConnected" style="height:100px;" onClick=functionmyfunction()>{{lstTmCon}}</div>
            </div>

        </div>
    </div>
</body>
<script>
    let element = document.getElementById("status");
    let i = 0
    element.addEventListener("click", update);

    const status = ["active", "error", "idle"]; 

    let s = status[0]
    
    
    function update() {
        console.log(s);
        i++;
        s = status[i % status.length]
        element.src="../static/icons/"+s+".png";
      }
    
</script>
</html>
